# üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Forest Bar

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ù–æ—è–±—Ä—å 2024)

### üìã –¢–∞–±–ª–∏—Ü—ã

#### 1. **Employee** (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `first_name` - –∏–º—è
- `last_name` - —Ñ–∞–º–∏–ª–∏—è
- `middle_name` - –æ—Ç—á–µ—Å—Ç–≤–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `city` - –≥–æ—Ä–æ–¥
- `region` - –æ–±–ª–∞—Å—Ç—å
- `email` - —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `phone` - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `referral_link` - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `address` - –∞–¥—Ä–µ—Å
- `work_hours` - —á–∞—Å—ã —Ä–∞–±–æ—Ç—ã
- `photo_url` - URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 2. **Vacancy** (–í–∞–∫–∞–Ω—Å–∏–∏)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `title` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏
- `city` - –≥–æ—Ä–æ–¥
- `schedule` - –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã
- `salary` - –∑–∞—Ä–ø–ª–∞—Ç–∞
- `additional_conditions` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (JSON —Å–ø–∏—Å–æ–∫)
- `long_description` - –¥–ª–∏–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 3. **Product** (–¢–æ–≤–∞—Ä—ã)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
- `images` - —Å–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (JSON)
- `price` - —Ü–µ–Ω–∞
- `product_type` - —Ç–∏–ø (–º—ë–¥, —á–∞–π, —è–≥–æ–¥–∞, —è–≥–æ–¥–Ω—ã–π —Å–±–æ—Ä –∏ —Ç–¥)
- `long_description` - –¥–ª–∏–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `seller_id` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞ (—Å–≤—è–∑—å —Å Employee)

**–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å:**
- `vitamins` - –≤–∏—Ç–∞–º–∏–Ω—ã (JSON —Å–ø–∏—Å–æ–∫)
- `minerals` - –º–∏–Ω–µ—Ä–∞–ª—ã (JSON —Å–ø–∏—Å–æ–∫)
- `antioxidants` - –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç—ã (JSON —Å–ø–∏—Å–æ–∫)
- `energy_value` - —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
- `shelf_life` - —Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏

- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 4. **Profile** (–ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `phone` - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `password_hash` - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `city` - –≥–æ—Ä–æ–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `purchase_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫—É–ø–æ–∫
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 5. **User** (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è SMS-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `phone` - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
- `is_active` - –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### 6. **SMSCode** (SMS –∫–æ–¥—ã)
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `code` - 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
- `is_used` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ª–∏ –∫–æ–¥
- `expires_at` - –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫–æ–¥–∞
- `created_at` - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

---

## üîó API Endpoints

### –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (Employees)
- `GET /employees` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `GET /employees/{id}` - –ø–æ–ª—É—á–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –ø–æ ID
- `POST /employees` - —Å–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `PUT /employees/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `DELETE /employees/{id}` - —É–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `POST /employees/{id}/upload-photo` - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –í–∞–∫–∞–Ω—Å–∏–∏ (Vacancies)
- `GET /vacancies` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- `GET /vacancies/{id}` - –ø–æ–ª—É—á–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é –ø–æ ID
- `POST /vacancies` - —Å–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é
- `PUT /vacancies/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é
- `DELETE /vacancies/{id}` - —É–¥–∞–ª–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é

### –¢–æ–≤–∞—Ä—ã (Products)
- `GET /products` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- `GET /products/{id}` - –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID
- `POST /products` - —Å–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
- `PUT /products/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
- `DELETE /products/{id}` - —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
- `POST /products/{id}/upload-image` - –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

### –ü—Ä–æ—Ñ–∏–ª–∏ (Profiles)
- `GET /profiles` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
- `GET /profiles/{id}` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ ID
- `POST /profiles` - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `PUT /profiles/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `DELETE /profiles/{id}` - —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Auth)
- `POST /auth/send-code` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å SMS –∫–æ–¥
- `POST /auth/verify-code` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –∏ –ø–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω
- `GET /auth/me` - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/logout` - –≤—ã—Ö–æ–¥

---

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π –ë–î

```bash
cd backend
python init_db_new.py
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- 3 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- 3 –≤–∞–∫–∞–Ω—Å–∏–∏
- 6 —Ç–æ–≤–∞—Ä–æ–≤ (–º—ë–¥, —á–∞–π, —è–≥–æ–¥—ã, —Å–±–æ—Ä—ã)
- 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python main.py
```

API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

```json
POST /products
{
  "name": "–ú—ë–¥ –∞–∫–∞—Ü–∏–µ–≤—ã–π",
  "images": ["/uploads/honey.jpg", "/uploads/honey2.jpg"],
  "price": 950.0,
  "product_type": "–º—ë–¥",
  "long_description": "–°–≤–µ—Ç–ª—ã–π –º—ë–¥ —Å –Ω–µ–∂–Ω—ã–º –≤–∫—É—Å–æ–º...",
  "seller_id": 1,
  "vitamins": ["B1", "B2", "C"],
  "minerals": ["–ö–∞–ª–∏–π", "–ú–∞–≥–Ω–∏–π"],
  "antioxidants": ["–§–ª–∞–≤–æ–Ω–æ–∏–¥—ã"],
  "energy_value": "320 –∫–∫–∞–ª –Ω–∞ 100–≥",
  "shelf_life": "24 –º–µ—Å—è—Ü–∞"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏

```json
POST /vacancies
{
  "title": "–ü—Ä–æ–¥–∞–≤–µ—Ü-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç",
  "city": "–ú–æ—Å–∫–≤–∞",
  "schedule": "5/2",
  "salary": "–æ—Ç 55 000 —Ä—É–±",
  "additional_conditions": [
    "–û–±—É—á–µ–Ω–∏–µ",
    "–ö–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç",
    "–°–∫–∏–¥–∫–∏"
  ],
  "long_description": "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–¥–∞–≤–µ—Ü..."
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

```json
POST /profiles
{
  "phone": "+79001234567",
  "password": "securepassword",
  "city": "–ú–æ—Å–∫–≤–∞"
}
```

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

1. **SMS-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** (–¥–ª—è User)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞: `POST /auth/send-code`
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞: `POST /auth/verify-code`
   - –ü–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞

2. **–ü—Ä–æ—Ñ–∏–ª–∏ —Å –ø–∞—Ä–æ–ª–µ–º** (–¥–ª—è Profile)
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Å –ø–∞—Ä–æ–ª–µ–º
   - –ü–∞—Ä–æ–ª—å —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt

---

## üì¶ –¢–∏–ø—ã —Ç–æ–≤–∞—Ä–æ–≤

- `–º—ë–¥` - —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ—Ä—Ç–∞ –º—ë–¥–∞
- `—á–∞–π` - —Ç—Ä–∞–≤—è–Ω—ã–µ —á–∞–∏
- `—è–≥–æ–¥–∞` - —Å—É—à–µ–Ω—ã–µ —è–≥–æ–¥—ã
- `—è–≥–æ–¥–Ω—ã–π —Å–±–æ—Ä` - —Å–º–µ—Å–∏ —è–≥–æ–¥

---

## üóÑÔ∏è JSON –ø–æ–ª—è

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:

- `Product.images` - –º–∞—Å—Å–∏–≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `Product.vitamins` - –º–∞—Å—Å–∏–≤ –≤–∏—Ç–∞–º–∏–Ω–æ–≤
- `Product.minerals` - –º–∞—Å—Å–∏–≤ –º–∏–Ω–µ—Ä–∞–ª–æ–≤
- `Product.antioxidants` - –º–∞—Å—Å–∏–≤ –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç–æ–≤
- `Vacancy.additional_conditions` - –º–∞—Å—Å–∏–≤ —É—Å–ª–æ–≤–∏–π

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ API —ç—Ç–∏ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —Å–ø–∏—Å–∫–∏ Python.

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä–∞—è –ë–î, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é:

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –ë–î
rm forest_bar.db

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é
python init_db_new.py
```

---

## üìû –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:

**–ü—Ä–æ—Ñ–∏–ª–∏:**
- +79001112233 / password123
- +79002223344 / password456
- +79003334455 / password789

**–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:**
- –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (–ú–æ—Å–∫–≤–∞)
- –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞ (–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)
- –ú–∏—Ö–∞–∏–ª –ö–æ–∑–ª–æ–≤ (–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥)

**–¢–æ–≤–∞—Ä—ã:**
- 2 –≤–∏–¥–∞ –º—ë–¥–∞
- 1 —á–∞–π
- 2 —è–≥–æ–¥—ã
- 1 —è–≥–æ–¥–Ω—ã–π —Å–±–æ—Ä
